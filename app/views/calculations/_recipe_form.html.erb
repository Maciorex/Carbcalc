<%= form_with url: recipe_calculations_path, method: :post, local: true, class: "space-y-4" do |form| %>
  <%= form.hidden_field :total_carbs, value: total_carbs %>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Stosunek fruktozy do maltodekstryny</label>
    <div class="space-y-2">
      <div class="flex items-center">
        <%= form.radio_button :ratio, "0.8:1", checked: true, class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300" %>
        <%= form.label :ratio, "0.8:1", value: "0.8:1", class: "ml-2 text-sm text-gray-700" %>
      </div>
      <div class="flex items-center">
        <%= form.radio_button :ratio, "1:2", class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300" %>
        <%= form.label :ratio, "1:2", value: "1:2", class: "ml-2 text-sm text-gray-700" %>
      </div>
    </div>
  </div>

  <div class="pt-6">
    <%= form.submit "Generuj przepis",
          class: "w-full bg-blue-600 text-white py-2.5 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium shadow-sm transition-colors",
          data: { turbo_frame: "recipe" } %>
  </div>
<% end %>

<% if defined?(@recipe) && @recipe %>
  <div class="mt-6 pt-6 border-t border-gray-200">
    <%= render "recipe_result", recipe: @recipe %>
  </div>
<% end %>
